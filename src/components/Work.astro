---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import "@fontsource-variable/fira-code";
import "@fontsource-variable/open-sans";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang)

const EXPERIENCE = {
  en: {
    experience: [
      {
        fromTo: "2022 -",
        years: "1 year",
        months: "5 months",
        company: "ITHUB",
        job: "Frontend developer | React & Vue",
      },
      {
        fromTo: "2021 - 2022",
        years: "",
        months: "8 months",
        company: "VK Development Lab",
        job: "Frontend developer | React",
      },
      {
        fromTo: "2020 - 2021",
        years: "",
        months: "9 months",
        company: "SN Inc.",
        job: "Fullstack developer | Javascript & Python",
      },
      {
        fromTo: "2018 - 2020",
        years: "1 year",
        months: "11 months",
        company: "Business Up",
        job: "Fullstack developers | Javascript & Python",
      },
    ],
  },
  es: {
    experience: [
      {
        fromTo: "2022 -",
        years: "1 año",
        months: "5 meses",
        company: "ITHUB",
        job: "Frontend developer | React & Vue",
      },
      {
        fromTo: "2021 - 2022",
        years: "",
        months: "8 meses",
        company: "VK Development Lab",
        job: "Frontend developer | React",
      },
      {
        fromTo: "2020 - 2021",
        years: "",
        months: "9 meses",
        company: "SN Inc.",
        job: "Fullstack developer | Javascript & Python",
      },
      {
        fromTo: "2018 - 2020",
        years: "1 año",
        months: "11 meses",
        company: "Business Up",
        job: "Fullstack developers | Javascript & Python",
      },
    ],
  },
};
---

<div class="my-8">
  <h1
    class="font-firacode text-right text-4xl font-semibold text-dirtyWhite lg:text-8xl pb-6 pr-6 lg:pr-40"
  >
    {t('work.title')}
  </h1>
  <div class="h-[1px] bg-darkGray"></div>
  <ul>
    {
      EXPERIENCE[lang].experience.map(({ fromTo, years, months, company, job }) => (
        <>
          <li class="flex flex-row items-center py-4 px-8 lg:px-40">
            <div class="size-1/3 lg:size-1/6 text-lightGray  font-opensans">
              <p class="text-lg lg:text-2xl">{fromTo}</p>
              <div class="flex flex-col lg:flex-row text-lg pt-3">
                <p>{years}</p>
                <p class="text-sm lg:text-lg">{months}</p>
              </div>
            </div>
            <div class="flex flex-col lg:flex-row size-2/3 lg:size-5/6 text-dirtyWhite lg:text-2xl items-start lg:items-center gap-2">
              <h3 class="lg:size-2/5 font-opensans font-light">{company}</h3>
              <h3 class="lg:size-3/5 font-firacode font-extralight">{job}</h3>
            </div>
          </li>
          <div class="h-[1px] bg-darkGray" />
        </>
      ))
    }
  </ul>
  <div
    class="flex flex-col items-end mt-8 mb-8 lg:px-40 font-opensans space-y-2 pr-6"
  >
    <h3 class="text-lightGray text-xl lg:text-3xl font-light">
      {t('work.title')}
    </h3>
    <p class="italic text-dirtyWhite text-l lg:text-2xl">
      {t('work.duration')}
    </p>
  </div>
</div>
